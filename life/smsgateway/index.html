<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>SmsGateway-短信网关平台 | Ken Blog</title>
<meta name="keywords" content="sms, gateway">
<meta name="description" content="SmsGateway-短信网关平台,统一的返回值格式，方便排查和记录">
<meta name="author" content="Ken">
<link rel="canonical" href="http://www.hello-api.cn/life/smsgateway/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.4398b09e795c3aac93a04f4160281925a588bcdf14941ead87ab7bfe555ba854.css" integrity="sha256-Q5iwnnlcOqyToE9BYCgZJaWIvN8UlB6th6t7/lVbqFQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://www.hello-api.cn/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://www.hello-api.cn/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://www.hello-api.cn/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://www.hello-api.cn/apple-touch-icon.png">
<link rel="mask-icon" href="http://www.hello-api.cn/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="SmsGateway-短信网关平台" />
<meta property="og:description" content="SmsGateway-短信网关平台,统一的返回值格式，方便排查和记录" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.hello-api.cn/life/smsgateway/" /><meta property="og:image" content="http://www.hello-api.cn/papermod-cover.png"/><meta property="article:section" content="life" />
<meta property="article:published_time" content="2022-10-22T15:58:00&#43;08:00" />
<meta property="article:modified_time" content="2022-10-22T15:58:00&#43;08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://www.hello-api.cn/papermod-cover.png"/>

<meta name="twitter:title" content="SmsGateway-短信网关平台"/>
<meta name="twitter:description" content="SmsGateway-短信网关平台,统一的返回值格式，方便排查和记录"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Lives",
      "item": "http://www.hello-api.cn/life/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "SmsGateway-短信网关平台",
      "item": "http://www.hello-api.cn/life/smsgateway/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "SmsGateway-短信网关平台",
  "name": "SmsGateway-短信网关平台",
  "description": "SmsGateway-短信网关平台,统一的返回值格式，方便排查和记录",
  "keywords": [
    "sms", "gateway"
  ],
  "articleBody": "Github\n特点 暂时支持目前市面主流服务商,逐步完善中 统一的返回值格式，方便排查和记录 平台支持 腾讯云 Ucloud 阿里云 百度云 七牛云 互亿无线 聚合数据 时代互联 SUBMAIL 示例使用代码 直接使用\ngateway := gateway.NewGatewayInterface(\"aliyun\", \u0026model.Config{ AppID: \"AppID\", AppSecret: \"AppSecret\", }) Param := map[string]string{\"0\": \"1234\", \"1\": \"1234\", \"2\": \"1234\"} message := model.NewMessage(\"您正在申请手机注册，验证码为：1234，5分钟内有效！\", \"\", \"\", Param) Message, err := api.SendMessage(model.NewPhone(\"150xxxxxxxx\"), message) fmt.Printf(\"Message: %v\\n\", Message) fmt.Printf(\"err: %v\\n\", err) 开启Grpc微服务\ns := server.NewGrpcServer() s.Start(50051) 预期功能 接入多家短信平台后, 能够免接口加签的困扰, 请求后能统一返回的格式, 可做到直接使用或用grpc实现微服务接收\n可使用功能 方法 描述 SendMessage 发送短信 CreateSmsTemplate 创建模板 QuerySmsTemplate 查询模板 发送格式 总结各大短信平台是有两种发送方式\n1. 直接发送短信内容, 如互亿无线, 时代互联 2. 根据模板和参数进行发送, 如阿里云, 腾讯云, 此方式也是最多平台广泛使用的 各平台配置说明以及接口实现情况 平台 发送方式 其他描述 发送短信 创建模板 查询模板 阿里云 模板 个人可用 ✅ ✅ ✅ 腾讯云 模板 个人可用 ✅ 禁止个人 Ucloud 模板 个人可用 ✅ ✅ ✅ 百度云 模板 企业 ✅ 七牛云 模板 企业 ✅ 互亿无线 内容 个人可用 ✅ 聚合数据 模板 个人可用 时代互联 内容 个人可用 ✅ SUBMAIL 内容/模板 企业 功能逐步完善中,如果有需要接入的其他短信平台可留言备注 ",
  "wordCount" : "127",
  "inLanguage": "zh",
  "datePublished": "2022-10-22T15:58:00+08:00",
  "dateModified": "2022-10-22T15:58:00+08:00",
  "author":{
    "@type": "Person",
    "name": "Ken"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://www.hello-api.cn/life/smsgateway/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ken Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://www.hello-api.cn/favicon.ico"
    }
  }
}
</script><meta name="shenma-site-verification" content="fa86e3feb16384882d9270489eab2715_1660870831">
<meta name="360-site-verification" content="fd75df938cdcbc7973283e01cd15fecb" />

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://www.hello-api.cn/" accesskey="h" title="Ken Blog (Alt + H)">Ken Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://www.hello-api.cn/archives" title="时间轴">
                    <span>时间轴</span>
                </a>
            </li>
            <li>
                <a href="http://www.hello-api.cn/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="http://www.hello-api.cn/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
    <header class="post-header">
        <div class="breadcrumbs"><a href="http://www.hello-api.cn/">主页</a>&nbsp;»&nbsp;<a href="http://www.hello-api.cn/life/">Lives</a></div>
        <h1 class="post-title">
            SmsGateway-短信网关平台
        </h1>
        <div class="post-description">
            SmsGateway-短信网关平台,统一的返回值格式，方便排查和记录
        </div>
        <div class="post-meta"><span title='2022-10-22 15:58:00 +0800 CST'>十月 22, 2022</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;Ken&nbsp;|&nbsp;<a href="https://github.com/suguer/suguer.github.io" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
    </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%89%b9%e7%82%b9" aria-label="特点">特点</a></li>
                <li>
                    <a href="#%e5%b9%b3%e5%8f%b0%e6%94%af%e6%8c%81" aria-label="平台支持">平台支持</a></li>
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e4%bd%bf%e7%94%a8%e4%bb%a3%e7%a0%81" aria-label="示例使用代码">示例使用代码</a></li>
                <li>
                    <a href="#%e9%a2%84%e6%9c%9f%e5%8a%9f%e8%83%bd" aria-label="预期功能">预期功能</a></li>
                <li>
                    <a href="#%e5%8f%af%e4%bd%bf%e7%94%a8%e5%8a%9f%e8%83%bd" aria-label="可使用功能">可使用功能</a></li>
                <li>
                    <a href="#%e5%8f%91%e9%80%81%e6%a0%bc%e5%bc%8f" aria-label="发送格式">发送格式</a><ul>
                        
                <li>
                    <a href="#1-%e7%9b%b4%e6%8e%a5%e5%8f%91%e9%80%81%e7%9f%ad%e4%bf%a1%e5%86%85%e5%ae%b9-%e5%a6%82%e4%ba%92%e4%ba%bf%e6%97%a0%e7%ba%bf-%e6%97%b6%e4%bb%a3%e4%ba%92%e8%81%94" aria-label="1. 直接发送短信内容, 如互亿无线, 时代互联">1. 直接发送短信内容, 如互亿无线, 时代互联</a></li>
                <li>
                    <a href="#2-%e6%a0%b9%e6%8d%ae%e6%a8%a1%e6%9d%bf%e5%92%8c%e5%8f%82%e6%95%b0%e8%bf%9b%e8%a1%8c%e5%8f%91%e9%80%81-%e5%a6%82%e9%98%bf%e9%87%8c%e4%ba%91-%e8%85%be%e8%ae%af%e4%ba%91-%e6%ad%a4%e6%96%b9%e5%bc%8f%e4%b9%9f%e6%98%af%e6%9c%80%e5%a4%9a%e5%b9%b3%e5%8f%b0%e5%b9%bf%e6%b3%9b%e4%bd%bf%e7%94%a8%e7%9a%84" aria-label="2. 根据模板和参数进行发送, 如阿里云, 腾讯云, 此方式也是最多平台广泛使用的">2. 根据模板和参数进行发送, 如阿里云, 腾讯云, 此方式也是最多平台广泛使用的</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%90%84%e5%b9%b3%e5%8f%b0%e9%85%8d%e7%bd%ae%e8%af%b4%e6%98%8e%e4%bb%a5%e5%8f%8a%e6%8e%a5%e5%8f%a3%e5%ae%9e%e7%8e%b0%e6%83%85%e5%86%b5" aria-label="各平台配置说明以及接口实现情况">各平台配置说明以及接口实现情况</a><ul>
                        
                <li>
                    <a href="#%e5%8a%9f%e8%83%bd%e9%80%90%e6%ad%a5%e5%ae%8c%e5%96%84%e4%b8%ad%e5%a6%82%e6%9e%9c%e6%9c%89%e9%9c%80%e8%a6%81%e6%8e%a5%e5%85%a5%e7%9a%84%e5%85%b6%e4%bb%96%e7%9f%ad%e4%bf%a1%e5%b9%b3%e5%8f%b0%e5%8f%af%e7%95%99%e8%a8%80%e5%a4%87%e6%b3%a8" aria-label="功能逐步完善中,如果有需要接入的其他短信平台可留言备注">功能逐步完善中,如果有需要接入的其他短信平台可留言备注</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

    <div class="post-content"><p><a href="https://github.com/suguer/SmsGateway">Github</a></p>
<h2 id="特点">特点<a hidden class="anchor" aria-hidden="true" href="#特点">#</a></h2>
<ol>
<li>暂时支持目前市面主流服务商,逐步完善中</li>
<li>统一的返回值格式，方便排查和记录</li>
</ol>
<h2 id="平台支持">平台支持<a hidden class="anchor" aria-hidden="true" href="#平台支持">#</a></h2>
<ul>
<li><a href="https://cloud.tencent.com/product/sms">腾讯云</a></li>
<li><a href="https://www.ucloud.cn">Ucloud</a></li>
<li><a href="https://www.aliyun.com/">阿里云</a></li>
<li><a href="https://cloud.baidu.com/">百度云</a></li>
<li><a href="https://www.qiniu.com/">七牛云</a></li>
<li><a href="https://www.ihuyi.com/">互亿无线</a></li>
<li><a href="https://www.juhe.cn/">聚合数据</a></li>
<li><a href="https://www.now.cn">时代互联</a></li>
<li><a href="https://www.mysubmail.com/">SUBMAIL</a></li>
</ul>
<h2 id="示例使用代码">示例使用代码<a hidden class="anchor" aria-hidden="true" href="#示例使用代码">#</a></h2>
<p>直接使用</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"> <span class="nx">gateway</span> <span class="o">:=</span> <span class="nx">gateway</span><span class="p">.</span><span class="nf">NewGatewayInterface</span><span class="p">(</span><span class="s">&#34;aliyun&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">model</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	 	<span class="nx">AppID</span><span class="p">:</span>     <span class="s">&#34;AppID&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	 	<span class="nx">AppSecret</span><span class="p">:</span> <span class="s">&#34;AppSecret&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="nx">Param</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;0&#34;</span><span class="p">:</span> <span class="s">&#34;1234&#34;</span><span class="p">,</span> <span class="s">&#34;1&#34;</span><span class="p">:</span> <span class="s">&#34;1234&#34;</span><span class="p">,</span> <span class="s">&#34;2&#34;</span><span class="p">:</span> <span class="s">&#34;1234&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">message</span> <span class="o">:=</span> <span class="nx">model</span><span class="p">.</span><span class="nf">NewMessage</span><span class="p">(</span><span class="s">&#34;您正在申请手机注册，验证码为：1234，5分钟内有效！&#34;</span><span class="p">,</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="s">&#34;&#34;</span><span class="p">,</span> <span class="nx">Param</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">Message</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">api</span><span class="p">.</span><span class="nf">SendMessage</span><span class="p">(</span><span class="nx">model</span><span class="p">.</span><span class="nf">NewPhone</span><span class="p">(</span><span class="s">&#34;150xxxxxxxx&#34;</span><span class="p">),</span> <span class="nx">message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Message: %v\n&#34;</span><span class="p">,</span> <span class="nx">Message</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;err: %v\n&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span></code></pre></div><p>开启Grpc微服务</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s</span> <span class="o">:=</span> <span class="nx">server</span><span class="p">.</span><span class="nf">NewGrpcServer</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="nx">s</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="mi">50051</span><span class="p">)</span>
</span></span></code></pre></div><h2 id="预期功能">预期功能<a hidden class="anchor" aria-hidden="true" href="#预期功能">#</a></h2>
<p>接入多家短信平台后, 能够免接口加签的困扰, 请求后能统一返回的格式, 可做到直接使用或用grpc实现微服务接收</p>
<h2 id="可使用功能">可使用功能<a hidden class="anchor" aria-hidden="true" href="#可使用功能">#</a></h2>
<table>
<thead>
<tr>
<th>方法</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>SendMessage</td>
<td style="text-align:center">发送短信</td>
</tr>
<tr>
<td>CreateSmsTemplate</td>
<td style="text-align:center">创建模板</td>
</tr>
<tr>
<td>QuerySmsTemplate</td>
<td style="text-align:center">查询模板</td>
</tr>
</tbody>
</table>
<h2 id="发送格式">发送格式<a hidden class="anchor" aria-hidden="true" href="#发送格式">#</a></h2>
<p>总结各大短信平台是有两种发送方式</p>
<h3 id="1-直接发送短信内容-如互亿无线-时代互联">1. 直接发送短信内容, 如互亿无线, 时代互联<a hidden class="anchor" aria-hidden="true" href="#1-直接发送短信内容-如互亿无线-时代互联">#</a></h3>
<h3 id="2-根据模板和参数进行发送-如阿里云-腾讯云-此方式也是最多平台广泛使用的">2. 根据模板和参数进行发送, 如阿里云, 腾讯云, 此方式也是最多平台广泛使用的<a hidden class="anchor" aria-hidden="true" href="#2-根据模板和参数进行发送-如阿里云-腾讯云-此方式也是最多平台广泛使用的">#</a></h3>
<h2 id="各平台配置说明以及接口实现情况">各平台配置说明以及接口实现情况<a hidden class="anchor" aria-hidden="true" href="#各平台配置说明以及接口实现情况">#</a></h2>
<table>
<thead>
<tr>
<th>平台</th>
<th>发送方式</th>
<th>其他描述</th>
<th>发送短信</th>
<th>创建模板</th>
<th style="text-align:center">查询模板</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.aliyun.com/">阿里云</a></td>
<td>模板</td>
<td>个人可用</td>
<td>✅</td>
<td>✅</td>
<td style="text-align:center">✅</td>
</tr>
<tr>
<td><a href="https://cloud.tencent.com/product/sms">腾讯云</a></td>
<td>模板</td>
<td>个人可用</td>
<td>✅</td>
<td>禁止个人</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><a href="https://www.ucloud.cn">Ucloud</a></td>
<td>模板</td>
<td>个人可用</td>
<td>✅</td>
<td>✅</td>
<td style="text-align:center">✅</td>
</tr>
<tr>
<td><a href="https://cloud.baidu.com/">百度云</a></td>
<td>模板</td>
<td>企业</td>
<td>✅</td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><a href="https://www.qiniu.com/">七牛云</a></td>
<td>模板</td>
<td>企业</td>
<td>✅</td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><a href="https://www.ihuyi.com/">互亿无线</a></td>
<td>内容</td>
<td>个人可用</td>
<td>✅</td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><a href="https://www.juhe.cn/">聚合数据</a></td>
<td>模板</td>
<td>个人可用</td>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><a href="https://www.now.cn">时代互联</a></td>
<td>内容</td>
<td>个人可用</td>
<td>✅</td>
<td></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><a href="https://www.mysubmail.com/">SUBMAIL</a></td>
<td>内容/模板</td>
<td>企业</td>
<td></td>
<td></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h3 id="功能逐步完善中如果有需要接入的其他短信平台可留言备注">功能逐步完善中,如果有需要接入的其他短信平台可留言备注<a hidden class="anchor" aria-hidden="true" href="#功能逐步完善中如果有需要接入的其他短信平台可留言备注">#</a></h3>


    </div>

    <footer class="post-footer">
        <ul class="post-tags">
            <li><a href="http://www.hello-api.cn/tags/sms/">sms</a></li>
            <li><a href="http://www.hello-api.cn/tags/gateway/">gateway</a></li>
        </ul>

    </footer>
</article>
<script src="https://giscus.app/client.js"
        data-repo="suguer/giscus.github.io"
        data-repo-id="R_kgDOH08FpA"
        data-category="Announcements"
        data-category-id="DIC_kwDOH08FpM4CQ2jj"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="http://www.hello-api.cn/">Ken Blog</a></span>
    <span>
       Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
    <a href="http://beian.miit.gov.cn/" target="_blank">粤ICP备19150058号</a>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
